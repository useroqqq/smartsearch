{"version":3,"sources":["app.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["_regeneratorRuntime","r","t","e","Object","prototype","n","hasOwnProperty","o","Symbol","i","iterator","a","asyncIterator","u","toStringTag","c","defineProperty","value","enumerable","configurable","writable","h","Generator","create","Error","done","method","arg","delegate","d","f","sent","_sent","dispatchException","abrupt","s","type","Context","call","wrap","GeneratorFunction","GeneratorFunctionPrototype","l","p","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","_typeof","resolve","__await","then","return","TypeError","next","w","tryEntries","push","m","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","slice","stop","rval","complete","finish","catch","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","map","userMarker","currentLocation","searchResults","routeControl","nearestObjects","currentRouteIndex","initMap","L","setView","tileLayer","attribution","addTo","geolocationButton","control","position","onAdd","div","DomUtil","innerHTML","onclick","preventDefault","getCurrentLocation","_getCurrentLocation","_callee","_position$coords","latitude","longitude","_callee$","_context","reject","navigator","geolocation","getCurrentPosition","coords","removeLayer","marker","icon","divIcon","className","html","t0","console","error","alert","searchNearby","_searchNearby","_callee2","bounds","radius","query","response","data","distances","objectsList","routeInfo","_callee2$","_context2","clearSearchResults","getBounds","concat","fetch","body","json","elements","element","lat","lon","distance","calculateDistance","contains","latLng","tags","address","sort","b","document","createElement","item","index","toFixed","bindPopup","objectElement","join","routeButton","querySelector","addEventListener","buildRoute","appendChild","getElementById","point1","point2","R","φ1","Math","PI","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","buildRouteToNearest","buildRouteToNext","_x","_buildRoute","_callee3","destination","container","_callee3$","_context3","removeControl","Routing","waypoints","routeWhileDragging","language","createMarker","router","osrmv1","serviceUrl","profile","alternatives","lineOptions","extendToWaypoints","missingRouteTolerance","styles","color","weight","opacity","addWaypoints","draggableWaypoints","fitSelectedRoutes","showAlternatives","useZoomParameter","formatter","Formatter","roundingSensitivity","plan","dragStyles","querySelectorAll","el","textContent","on","routes","route","summary","totalDistance","duration","round","totalTime","routeDetails","routeInfoContainer","existingRouteDetails","remove","clearButton","clearRoute","eachLayer","layer","Line","routingContainer","TileLayer","addLayer","toggleSidebar","sidebar","toggleButton","isCollapsed","classList","toggle","title","setTimeout","invalidateSize","key","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","message","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","k","dep","Array","isArray","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["let map;\nlet userMarker;\nlet currentLocation;\nlet searchResults = [];\nlet routeControl;\nlet nearestObjects = [];\nlet currentRouteIndex = 0;\n\n// Инициализация карты\nfunction initMap() {\n    map = L.map('map').setView([55.76, 37.64], 10);\n    \n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '© OpenStreetMap contributors'\n    }).addTo(map);\n\n    // Добавляем кнопку геолокации\n    const geolocationButton = L.control({ position: 'topright' });\n    geolocationButton.onAdd = function() {\n        const div = L.DomUtil.create('div', 'leaflet-bar leaflet-control');\n        div.innerHTML = '<a href=\"#\" title=\"Определить местоположение\" style=\"width: 30px; height: 30px; line-height: 30px;\">📍</a>';\n        div.onclick = function(e) {\n            e.preventDefault();\n            getCurrentLocation();\n        };\n        return div;\n    };\n    geolocationButton.addTo(map);\n}\n\n// Получение текущего местоположения\nasync function getCurrentLocation() {\n    try {\n        const position = await new Promise((resolve, reject) => {\n            navigator.geolocation.getCurrentPosition(resolve, reject);\n        });\n\n        const { latitude, longitude } = position.coords;\n        currentLocation = [latitude, longitude];\n        \n        map.setView(currentLocation, 15);\n\n        if (userMarker) {\n            map.removeLayer(userMarker);\n        }\n\n        userMarker = L.marker(currentLocation, {\n            icon: L.divIcon({\n                className: 'user-marker',\n                html: '<div style=\"background-color: red; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white;\"></div>'\n            })\n        }).addTo(map);\n\n        return currentLocation;\n    } catch (error) {\n        console.error('Ошибка получения местоположения:', error);\n        alert('Не удалось определить ваше местоположение. Пожалуйста, проверьте настройки геолокации.');\n    }\n}\n\n// Поиск ближайших объектов\nasync function searchNearby() {\n    if (!currentLocation) {\n        alert('Сначала определите ваше местоположение');\n        return;\n    }\n\n    try {\n        clearSearchResults();\n        currentRouteIndex = 0;\n\n        const bounds = map.getBounds();\n        const radius = 1000; // радиус поиска в метрах\n\n        // Используем Overpass API для поиска заправок\n        const query = `\n            [out:json][timeout:25];\n            (\n                node[\"amenity\"=\"fuel\"](around:${radius},${currentLocation[0]},${currentLocation[1]});\n            );\n            out body;\n            >;\n            out skel qt;\n        `;\n\n        const response = await fetch('https://overpass-api.de/api/interpreter', {\n            method: 'POST',\n            body: query\n        });\n\n        const data = await response.json();\n        const distances = [];\n\n        // Обрабатываем результаты поиска\n        data.elements.forEach(element => {\n            if (element.type === 'node') {\n                const coords = [element.lat, element.lon];\n                const distance = calculateDistance(currentLocation, coords);\n                \n                if (bounds.contains(L.latLng(coords))) {\n                    distances.push({\n                        coords,\n                        distance,\n                        name: element.tags.name || 'Заправка',\n                        address: element.tags['addr:street'] ? \n                            `${element.tags['addr:street']}${element.tags['addr:housenumber'] ? ', ' + element.tags['addr:housenumber'] : ''}` : \n                            'Адрес не указан'\n                    });\n                }\n            }\n        });\n\n        // Сортируем по расстоянию и берем 3 ближайших\n        distances.sort((a, b) => a.distance - b.distance);\n        nearestObjects = distances.slice(0, 3);\n\n        // Создаем контейнер для списка объектов\n        const objectsList = document.createElement('div');\n        objectsList.className = 'objects-list';\n        objectsList.innerHTML = '<h3>Ближайшие заправки:</h3>';\n\n        // Отображаем ближайшие объекты на карте и в списке\n        nearestObjects.forEach((item, index) => {\n            const distance = (item.distance / 1000).toFixed(1);\n            \n            // Создаем маркер на карте\n            const marker = L.marker(item.coords, {\n                icon: L.divIcon({\n                    className: 'object-marker',\n                    html: `<div style=\"background-color: #ff4444; \n                           color: white; \n                           width: 24px; \n                           height: 24px; \n                           border-radius: 50%; \n                           border: 2px solid white;\n                           text-align: center;\n                           line-height: 20px;\">${index + 1}</div>`\n                })\n            }).addTo(map);\n\n            marker.bindPopup(`\n                <div style=\"padding: 10px;\">\n                    <h3>${item.name}</h3>\n                    <p>Расстояние: ${distance} км</p>\n                </div>\n            `);\n\n            // Добавляем элемент в список\n            const objectElement = document.createElement('div');\n            objectElement.className = 'object-item';\n            objectElement.innerHTML = `\n                <div class=\"object-info\">\n                    <h4>${index + 1}. ${item.name}</h4>\n                    <p>Расстояние: ${distance} км</p>\n                </div>\n                <button class=\"route-button-small\" data-coords=\"${item.coords.join(',')}\">\n                    Построить маршрут\n                </button>\n            `;\n\n            // Добавляем обработчик для кнопки маршрута\n            const routeButton = objectElement.querySelector('.route-button-small');\n            routeButton.addEventListener('click', () => {\n                buildRoute(item.coords);\n            });\n\n            objectsList.appendChild(objectElement);\n        });\n\n        // Добавляем список объектов на страницу\n        const routeInfo = document.getElementById('routeInfo');\n        routeInfo.innerHTML = '';\n        routeInfo.appendChild(objectsList);\n\n    } catch (error) {\n        console.error('Ошибка поиска:', error);\n        alert('Произошла ошибка при поиске заправок');\n    }\n}\n\n// Функция для расчета расстояния между двумя точками\nfunction calculateDistance(point1, point2) {\n    const R = 6371e3; // радиус Земли в метрах\n    const φ1 = point1[0] * Math.PI/180;\n    const φ2 = point2[0] * Math.PI/180;\n    const Δφ = (point2[0]-point1[0]) * Math.PI/180;\n    const Δλ = (point2[1]-point1[1]) * Math.PI/180;\n\n    const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ/2) * Math.sin(Δλ/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n    return R * c; // расстояние в метрах\n}\n\n// Построение маршрута до ближайшей заправки\nfunction buildRouteToNearest() {\n    if (!nearestObjects.length) {\n        alert('Сначала выполните поиск заправок');\n        return;\n    }\n\n    currentRouteIndex = 0;\n    buildRoute(nearestObjects[0].coords);\n}\n\n// Построение маршрута до следующей заправки\nfunction buildRouteToNext() {\n    if (!nearestObjects.length) {\n        alert('Сначала выполните поиск заправок');\n        return;\n    }\n\n    currentRouteIndex = (currentRouteIndex + 1) % nearestObjects.length;\n    buildRoute(nearestObjects[currentRouteIndex].coords);\n}\n\n// Построение маршрута\nasync function buildRoute(destination) {\n    if (!currentLocation) return;\n\n    try {\n        if (routeControl) {\n            map.removeControl(routeControl);\n            routeControl = null;\n        }\n\n        routeControl = L.Routing.control({\n            waypoints: [\n                L.latLng(currentLocation),\n                L.latLng(destination)\n            ],\n            routeWhileDragging: false,\n            language: 'ru',\n            createMarker: function() { return null; },\n            router: L.Routing.osrmv1({\n                serviceUrl: 'https://router.project-osrm.org/route/v1',\n                profile: 'driving',\n                alternatives: false\n            }),\n            lineOptions: {\n                extendToWaypoints: true,\n                missingRouteTolerance: 0,\n                styles: [{ color: '#ff0000', weight: 4, opacity: 0.8 }]\n            },\n            addWaypoints: false,\n            draggableWaypoints: false,\n            fitSelectedRoutes: true,\n            showAlternatives: false,\n            useZoomParameter: true,\n            formatter: new L.Routing.Formatter({\n                language: 'ru',\n                roundingSensitivity: 30\n            }),\n            plan: L.Routing.plan([\n                L.latLng(currentLocation),\n                L.latLng(destination)\n            ], {\n                createMarker: function() { return null; },\n                dragStyles: [{ color: '#ff0000', weight: 4, opacity: 0.8 }]\n            })\n        }).addTo(map);\n\n        // Переводим элементы управления маршрутом\n        const container = document.querySelector('.leaflet-routing-container');\n        if (container) {\n            const elements = container.querySelectorAll('h3');\n            elements.forEach(el => {\n                if (el.textContent === 'Route') {\n                    el.textContent = 'Маршрут';\n                } else if (el.textContent === 'Alternative routes') {\n                    el.textContent = 'Альтернативные маршруты';\n                }\n            });\n        }\n\n        routeControl.on('routesfound', function(e) {\n            const routes = e.routes;\n            if (routes && routes.length > 0) {\n                const route = routes[0];\n                const distance = (route.summary.totalDistance / 1000).toFixed(1);\n                const duration = Math.round(route.summary.totalTime / 60);\n\n                const routeDetails = document.createElement('div');\n                routeDetails.className = 'route-details';\n                routeDetails.innerHTML = `\n                    <h3>Информация о маршруте</h3>\n                    <p><strong>Расстояние:</strong> ${distance} км</p>\n                    <p><strong>Время в пути на автомобиле:</strong> ${duration} мин</p>\n                    <button class=\"clear-route-button\" onclick=\"clearRoute()\">\n                        Очистить маршрут\n                    </button>\n                `;\n\n                const routeInfoContainer = document.getElementById('routeInfo');\n                const existingRouteDetails = routeInfoContainer.querySelector('.route-details');\n                if (existingRouteDetails) {\n                    existingRouteDetails.remove();\n                }\n                routeInfoContainer.appendChild(routeDetails);\n\n                // Добавляем обработчик для кнопки очистки\n                const clearButton = routeDetails.querySelector('.clear-route-button');\n                clearButton.addEventListener('click', clearRoute);\n            } else {\n                alert('Не удалось построить маршрут. Попробуйте другую точку.');\n            }\n        });\n\n        routeControl.on('routingerror', function(e) {\n            console.error('Ошибка маршрутизации:', e);\n            alert('Не удалось построить маршрут. Попробуйте другую точку.');\n        });\n\n    } catch (error) {\n        console.error('Ошибка построения маршрута:', error);\n        alert('Не удалось построить маршрут');\n    }\n}\n\n// Функция для очистки маршрута\nfunction clearRoute() {\n    if (routeControl) {\n        map.removeControl(routeControl);\n        routeControl = null;\n    }\n    \n    // Удаляем все маршруты с карты\n    map.eachLayer((layer) => {\n        if (layer instanceof L.Routing.Line) {\n            map.removeLayer(layer);\n        }\n    });\n\n    // Очищаем информацию о маршруте\n    const routeDetails = document.querySelector('.route-details');\n    if (routeDetails) {\n        routeDetails.remove();\n    }\n\n    // Удаляем панель маршрутизации\n    const routingContainer = document.querySelector('.leaflet-routing-container');\n    if (routingContainer) {\n        routingContainer.remove();\n    }\n}\n\n// Очистка результатов поиска\nfunction clearSearchResults() {\n    map.eachLayer((layer) => {\n        if (!(layer instanceof L.TileLayer)) {\n            map.removeLayer(layer);\n        }\n    });\n    if (userMarker) {\n        map.addLayer(userMarker);\n    }\n    document.getElementById('routeInfo').innerHTML = '';\n    nearestObjects = [];\n    currentRouteIndex = 0;\n}\n\n// Функция для переключения видимости бокового меню\nfunction toggleSidebar() {\n    const sidebar = document.getElementById('sidebar');\n    const toggleButton = document.getElementById('toggleSidebar');\n    const isCollapsed = sidebar.classList.toggle('collapsed');\n    \n    // Обновляем текст кнопки и её подсказку\n    toggleButton.textContent = isCollapsed ? '▶' : '◀';\n    toggleButton.title = isCollapsed ? 'Показать панель' : 'Скрыть панель';\n    \n    // Обновляем размер карты после анимации\n    setTimeout(() => {\n        map.invalidateSize();\n    }, 300);\n}\n\n// Инициализация обработчиков событий\ndocument.addEventListener('DOMContentLoaded', () => {\n    initMap();\n    \n    // Добавляем обработчики событий\n    document.getElementById('findLocation').addEventListener('click', getCurrentLocation);\n    document.getElementById('searchNearby').addEventListener('click', searchNearby);\n    \n    // Обработчик для кнопки скрытия панели\n    const toggleButton = document.getElementById('toggleSidebar');\n    toggleButton.addEventListener('click', toggleSidebar);\n    \n    // Добавляем обработчик клавиши Escape для скрытия панели\n    document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape') {\n            const sidebar = document.getElementById('sidebar');\n            if (!sidebar.classList.contains('collapsed')) {\n                toggleSidebar();\n            }\n        }\n    });\n}); ","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}